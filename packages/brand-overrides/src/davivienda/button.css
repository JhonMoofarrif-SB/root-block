/**
 * Davivienda - Button Overrides
 * Animación especial de gradiente en estado loading (basado en rb-button de 21st.dev)
 * 
 * Esta marca tiene una animación única donde un gradiente oscuro
 * se mueve de izquierda a derecha cuando el botón está cargando.
 */

/* ========================================
   DAVIVIENDA LOADING ANIMATION
   ======================================== */

/* Variables de animación para Davivienda */
[data-brand='davivienda'] .rb-button--loading {
  --rb-button-loading-animation-duration: 1.5s; /* Duración de la animación */

  /* Color NEGRO SÓLIDO (sin gradiente) para Davivienda */
  --rb-button-loading-bg-animation: rgba(0, 0, 0, 0.5); /* Negro sólido #000000 */
}

/* Activar overflow hidden para contener la animación dentro del botón */
[data-brand='davivienda'] .rb-button--loading {
  overflow: hidden !important;
  position: relative;
}

/* 
 * Elemento ::before que contiene el gradiente animado 
 * Se activa automáticamente en Davivienda cuando el botón está en loading
 */
[data-brand='davivienda'] .rb-button--loading::before {
  content: '';
  position: absolute;
  top: 0;
  left: -110%;
  width: 110%;
  height: 100%;
  background: var(--rb-button-loading-bg-animation);
  /* Border radius solo en las esquinas derechas (como en el ejemplo) */
  border-radius: 0 var(--rb-button-border-radius) var(--rb-button-border-radius) 0;
  z-index: 0;
  transition: all 1s ease;
  /* La animación se aplica directamente */
  animation: rb-davivienda-gradient-slide linear infinite;
  animation-duration: var(--rb-button-loading-animation-duration);
}

/* Animación del gradiente de izquierda a derecha (moverGradiente) */
@keyframes rb-davivienda-gradient-slide {
  0% {
    left: -110%; /* Empieza fuera a la izquierda */
  }
  100% {
    left: 0%; /* Llega al borde derecho (cubriendo el botón) */
  }
}

/* El texto y contenido del botón deben estar encima del gradiente */
[data-brand='davivienda'] .rb-button--loading > * {
  position: relative;
  z-index: 1;
}

/* El spinner (::after) debe estar encima del gradiente */
[data-brand='davivienda'] .rb-button--loading::after {
  z-index: 2;
}

/* ========================================
   VARIANTES DE COLOR PARA LA ANIMACIÓN
   ======================================== */

/* Primary: color negro sólido sobre fondo rojo */
[data-brand='davivienda'] .rb-button--primary.rb-button--loading::before {
  background: rgba(0, 0, 0, 0.5); /* Negro sólido */
}

/* Secondary: color negro sólido */
[data-brand='davivienda'] .rb-button--secondary.rb-button--loading::before {
  background: rgba(0, 0, 0, 0.4); /* Negro sólido */
}

/* Tertiary y Quaternary: color negro más sutil */
[data-brand='davivienda'] .rb-button--tertiary.rb-button--loading::before,
[data-brand='davivienda'] .rb-button--quaternary.rb-button--loading::before {
  background: rgba(0, 0, 0, 0.35); /* Negro sólido */
}

/* Danger: color negro sólido */
[data-brand='davivienda'] .rb-button--danger.rb-button--loading::before {
  background: rgba(0, 0, 0, 0.5); /* Negro sólido */
}

/* Success: color negro sólido */
[data-brand='davivienda'] .rb-button--success.rb-button--loading::before {
  background: rgba(0, 0, 0, 0.5); /* Negro sólido */
}

/* Quinary: color negro sólido */
[data-brand='davivienda'] .rb-button--quinary.rb-button--loading::before {
  background: rgba(0, 0, 0, 0.5); /* Negro sólido */
}

/* Estado disabled: color gris sólido */
[data-brand='davivienda'] .rb-button:disabled.rb-button--loading::before {
  background: rgba(155, 155, 155, 0.3); /* Gris sólido */
}

/* ========================================
   ACCESSIBILITY - REDUCED MOTION
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  [data-brand='davivienda'] .rb-button--loading::before {
    animation: none !important;
    display: none;
  }
}

/* ========================================
   DAVIVIENDA BRAND SPECIFIC STYLES
   ======================================== */

/* Botones con esquinas ligeramente más rectas (menos redondeadas) */
[data-brand='davivienda'] .rb-button {
  --rb-button-border-radius: 6px; /* Un poco más cuadrado que el default (8px) */
}

/* Bordes más gruesos para mayor presencia visual */
[data-brand='davivienda'] .rb-button--primary,
[data-brand='davivienda'] .rb-button--danger,
[data-brand='davivienda'] .rb-button--success {
  --rb-button-border-width: 2px;
}

/* Sombras con el color primary de Davivienda */
[data-brand='davivienda'] .rb-button {
  --rb-button-shadow-hover: 0 2px 8px rgba(225, 17, 28, 0.2);
}
